# 需求
第一目标：自助平台，零运维。

## Manager

### 账户
- manager开放公网访问，支持多种认证方式
- 不实现用户系统，依赖第三方用户系统，只引用用户ID
- 第三方用户系统需要提供认证接口 LDAP、AD、Restful
- 支持选择所在企业

### 部署
- manager部署单个实例，管理多个环境
- 注册一个企业
  1. 名称
  2. 超级管理员才添加
  3. 配置业务线 多个gateway实例（http[s]://127.0.0.1:8001）
- 每个企业一个域名
  1. dev-pay.apis.ltd
  2. sit-pay.apis.ltd
  3. pre-pay.apis.ltd
  4. pay.apis.ltd

### 权限
- api分组可见性。api分组为权限分割的最小单元。
- 权限范围
  1. 相同组 
  2. 相同企业
  3. 所有
- api权限分为，可读，可写
- 用户默认只能查看公开的API和自己所在组的API
- 创建分组的用户拥有当前分组的管理员权限，可添加其他成员

### 功能
* 拥有工单系统
* 支持插件系统

### 文档
暂时使用第三方文档系统

### SDK
暂时不支持

## Gateway
* 兼容性
  * application/vnd.resthub.v1+json
  * application/vnd.resthub.v2+json
  * application/vnd.resthub.v3+json
* 每个Gateway实例通过自动生成的二级域名可以访问
* Resthub-Spec为必选header信息
* gateway支持多环境部署（dev、sit、pre、pro）
* gateway支持多机房部署（不同公司主体）
* gateway支持多域名访问
* 转发请求时，只修改uri和header，其他部分默认不做修改
* 常量参数：用户自定义
* 系统参数：上游nginx的ip地址，当前nginx的ip地址，客户端ip地址，request-id 

